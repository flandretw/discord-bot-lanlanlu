# 攔藍錄（LanLanLu）

**「你的每一句話我全都要！！🍔」**

來自蘭蘭露宇宙之一的⸺攔藍錄，
是個專門綁架對話紀錄的瘋狂機器人！

（若閒置超過 30 分鐘，系統將自動停止錄製以節省資源。）

---

## 📖 指令列表（Slash Commands）

⚠️ **注意**：僅限擁有 **`社群管理員`**、**`團長`** 或 **`管理員`** 身分組的使用者操作。

*   **`/record [limit] [minutes]`**
    *   **功能**：開始錄製目前頻道的對話內容。
    *   **參數（選填）**：
        *   `after_message_id`：（可選）指定訊息 ID，機器人將從該訊息**之後**開始抓取紀錄。
        *   `summary`：（可選，True/False）是否啟用 Gemini AI 摘要功能（預設為 True）。
        *   `limit`：（可選）回溯紀錄過去的訊息則數（最大 100 則）。
        *   `minutes`：（可選）回溯紀錄過去幾分鐘內的訊息（最大 7 天）。
        *   **優先順序**：`after_message_id` > `minutes` > `limit`。
        *   *範例：`/record minutes:10`（補抓過去 10 分鐘的對話）*
    *   **備註**：若閒置 30 分鐘無新訊息，錄製將自動結束並存檔。

*   **`/stop [target_channel]`**
    *   **功能**：停止錄製，並輸出對話紀錄 Markdown 檔案。
    *   **用法**：
        *   直接輸入 `/stop`：在目前頻道輸出檔案。
        *   輸入 `/stop` 後選擇 `target_channel`：指定將檔案傳送至特定頻道。

*   **`/say [message]`**
    *   **功能**：透過機器人傳送指定訊息。
    *   **特性**：隱藏指令呼叫者的痕跡，以機器人身分發言。

---

## 🛠️ 安裝與啟動（Setup）

1.  **設定 Token**：
    *   開啟 `.env` 檔案，填入您的 Discord Bot Token：`DISCORD_TOKEN=您的 Token`
2.  **啟動機器人**：
    *   在終端機執行指令：`.\venv\Scripts\python main.py`
3.  **權限設定**：
    *   請確保您在 Discord 伺服器中擁有 `社群管理員`、`團長` 或 `管理員` 其中之一的身分組，否則將無法使用指令。
